<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

	<head>
		<meta charset="utf-8" />
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<style>
			li {
				list-style: none;
			}
		</style>

	</head>

	<body>

		<div class="panel panel-default" style="margin:10px 10px;">
			<div class="panel-heading">
				<h2 class="panel-title">目标体系设定</h2>
			</div>
			<div class="panel-body">
				<!--第一个目标设定 -->
				<div class="row">
					<div class="col-sm-12">
						<ul>
							<li>
								<input type="checkbox" name="index_1" id="index_1" checked="checked">
								<label for="index_1" style="font-weight:bold;">目标1:为所有人提供水和环境卫生，为所有用水部门提供可持续的供水和取水，并进行流域水资源的可持续管理</label>
								<input type="text" id="goal_1" name="goal_1" value="20" style="width:30px; height:20px; ime-mode:disabled" />%
								<ul>
									<li class="father_li">
										<input type="checkbox" name="index_1_1" id="index_1_1" checked="checked">
										<label for="index_1_1" style="font-weight:normal">子目标1.1 &nbsp;&nbsp;提高水资源利用率</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_1_1_1" id="index_1_1_1" checked="checked">
												<label for="index_1_1_1" style="font-weight:normal">指标1.1.1 &nbsp;&nbsp;提高水生产力到</label>
												<input type="text" id="index_111" name="index_111" value="20" style="width:30px; height:20px;" />%
											</li>
											<li>
												<input type="checkbox" name="index_1_1_2" id="index_1_1_2" checked="checked">
												<label for="index_1_1_3" style="font-weight:normal">指标1.1.2 &nbsp;&nbsp;在各个层次上减小流域水压力到</label>
												<input type="text" id="index_112" name="index_112" value="10" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_1_2" id="index_1_2">
										<label for="index_1_2" style="font-weight:normal">子目标1.2 &nbsp;&nbsp;人人可以公平享受负担得起的安全饮用水</label>
										<ul>
											<li>
												<input type="checkbox" name="index_1_2_1" id="index_1_2_1">
												<label for="index_1_2_1" style="font-weight:normal">指标1.2.1 &nbsp;&nbsp;提高流域社会安全饮用水比例到</label>
												<input type="text" id="index_121" name="index_121" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_1_3" id="index_1_3">
										<label for="index_1_3" style="font-weight:normal">子目标1.3 &nbsp;&nbsp;在所有层次上实现集成水资源管理，包括跨边界合作</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_1_3_1" id="index_1_3_1">
												<label for="index_1_3_1" style="font-weight:normal">指标1.3.1 &nbsp;&nbsp;集成水资源管理执行度</label>
												<input type="text" id="index_131" name="index_131" value="" style="width:30px; height:20px;" />%
											</li>
											<li>
												<input type="checkbox" name="index_1_3_2" id="index_1_3_2">
												<label for="index_1_3_2" style="font-weight:normal">指标1.3.2 &nbsp;&nbsp;跨边界流域可操作合约有效性</label>
												<input type="text" id="index_132" name="index_132" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_1_4" id="index_1_4" checked="checked">
										<label for="index_1_4" style="font-weight:normal">子目标1.4 &nbsp;&nbsp;保护和恢复与水相关的生态系统，包括湿地，森林，草地，湖泊和地下蓄水层</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_1_4_1" id="index_1_4_1" checked="checked">
												<label for="index_1_4_1" style="font-weight:normal">指标1.4.1 &nbsp;&nbsp;维持可持续中游湿地面积</label>
												<input type="text" id="index_141" name="index_141" value="300" style="width:30px; height:20px;" />万亩
											</li>
											<li>
												<input type="checkbox" name="index_1_4_2" id="index_1_4_2" checked="checked">
												<label for="index_1_4_2" style="font-weight:normal">指标1.4.2 &nbsp;&nbsp;中游地下水最大开采量</label>
												<input type="text" id="index_142" name="index_142" value="1" style="width:30px; height:20px;" />亿m3
											</li>
											<li class="sub_li">
												<input type="checkbox" name="index_1_4_3" id="index_1_4_3" checked="checked">
												<label for="index_1_4_3" style="font-weight:normal">指标1.4.3 &nbsp;&nbsp;中游生态系统最小供水量</label>
												<input type="text" id="index_143" name="index_143" value="3" style="width:30px; height:20px;" />亿m3
											</li>
											<li>
												<input type="checkbox" name="index_1_4_4" id="index_1_4_4" checked="checked">
												<label for="index_1_4_4" style="font-weight:normal">指标1.4.4 &nbsp;&nbsp;维持下游可持续生态系统发展所需最小分水量</label>
												<input type="text" id="index_144" name="index_144" value="3" style="width:30px; height:20px;" />亿m3
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
				<!-- 第二个目标设定 -->
				<div class="row">
					<div class="col-sm-12">
						<ul>
							<li>
								<input type="checkbox" name="index_2" id="index_2" checked="checked">
								<label for="index_2" style="font-weight:bold;">目标2:保护、恢复和促进流域可持续利用陆地生态系统健康发展，可持续管理森林，防治荒漠化</label>
								<input type="text" id="goal_2" name="goal_2" value="40" style="width:30px; height:20px;" />%
								<ul>
									<li class="father_li">
										<input type="checkbox" name="index_2_1" id="index_2_1" checked="checked">
										<label for="index_2_1" style="font-weight:normal">子目标 2.1 &nbsp;&nbsp;提高水资源利用率</label>
										<ul>
											<li>
												<input type="checkbox" name="index_2_1_1" id="index_2_1_1" checked="checked">
												<label for="index_2_1_1" style="font-weight:normal">指标2.1.1 &nbsp;&nbsp;森林覆盖率</label>
												<input type="text" id="index_211" name="index_211" value="35" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_2_2" id="index_2_2">
										<label for="index_2_2" style="font-weight:normal">子目标2.2 &nbsp;&nbsp;促进所有类型森林可持续管理的实施</label>
										<ul>
											<li>
												<input type="checkbox" name="index_2_2_1" id="index_2_2_1">
												<label for="index_2_2_1" style="font-weight:normal">指标2.2.1 &nbsp;&nbsp;可持续森林管理覆盖</label>
												<input type="text" id="index_221" name="index_221" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_2_3" id="index_2_3">
										<label for="index_2_3" style="font-weight:normal">子目标2.3 &nbsp;&nbsp;确保山地生态系统的可持续发展</label>
										<ul>
											<li>
												<input type="checkbox" name="index_2_3_1" id="index_2_3_1">
												<label for="index_2_3_1" style="font-weight:normal">指标2.3.1 &nbsp;&nbsp;山地绿色覆盖指数</label>
												<input type="text" id="index_231" name="index_231" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
				<!-- 第三个目标设定 -->
				<div class="row">
					<div class="col-sm-12">
						<ul>
							<li>
								<input type="checkbox" name="index_3" id="index_3" checked="checked">
								<label for="index_3" style="font-weight:bold;">目标3:促进持久、包容性和可持续经济增长、促进实现充分和生产性就业</label>
								<input type="text" id="goal_3" name="goal_3" value="40" style="width:30px; height:20px;" />%
								<ul>
									<li class="father_li">
										<input type="checkbox" name="index_3_1" id="index_3_1" checked="checked">
										<label for="index_3_1" style="font-weight:normal">子目标3.1 &nbsp;&nbsp;可持续与自然环境相一致的人均经济增长</label>
										<ul>
											<li>
												<input type="checkbox" name="index_3_1_1" id="index_3_1_1" checked="checked">
												<label for="index_3_1_1" style="font-weight:normal">指标3.1.1 &nbsp;&nbsp;人均GDP</label>
												<input type="text" id="index_311" name="index_311" value="52000" style="width:50px; height:20px;" />元
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_3_2" id="index_3_2">
										<label for="index_3_2" style="font-weight:normal">子目标3.2 &nbsp;&nbsp;得到经济生产力的高水平</label>
										<ul>
											<li>
												<input type="checkbox" name="index_3_2_1" id="index_3_2_1">
												<label for="index_3_2_1" style="font-weight:normal">指标3.2.1 &nbsp;&nbsp;就业人口人均GDP增长率</label>
												<input type="text" id="index_321" name="index_321" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_3_3" id="index_3_3">
										<label for="index_3_3" style="font-weight:normal">子目标3.3 &nbsp;&nbsp;实质性降低年轻人就业率</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_3_3_1" id="index_3_3_1">
												<label for="index_3_3_1" style="font-weight:normal">指标3.3.1 &nbsp;&nbsp;年轻人（15-24）就业率</label>
												<input type="text" id="index_331" name="index_331" value="" style="width:30px; height:20px;" />%
											</li>
											<li>
												<input type="checkbox" name="index_3_3_2" id="index_3_3_2">
												<label for="index_3_3_2" style="font-weight:normal">指标3.3.2 &nbsp;&nbsp;年轻人（15-24）接受教育、培训和就业人口比例</label>
												<input type="text" id="index_332" name="index_332" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>

									<li class="father_li">
										<input type="checkbox" name="index_3_4" id="index_3_4" checked="checked">
										<label for="index_3_4" style="font-weight:normal">子目标3.4 &nbsp;&nbsp;促进可持续旅游业发展，创造就业机会和提升当地文化</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_3_4_1" id="index_3_4_1" checked="checked">
												<label for="index_3_4_1" style="font-weight:normal">指标3.4.1 &nbsp;&nbsp;旅游业在GDP中的比例</label>
												<input type="text" id="index_341" name="index_341" value="20" style="width:30px; height:20px;" />%
											</li>
											<li>
												<input type="checkbox" name="index_3_4_2" id="index_3_4_2">
												<label for="index_3_4_2" style="font-weight:normal">指标3.4.2 &nbsp;&nbsp;旅游消费（环境压力指数）</label>
												<input type="text" id="index_342" name="index_342" value="" style="width:30px; height:20px;" />
											</li>
										</ul>
									</li>

									<li class="father_li">
										<input type="checkbox" name="index_3_5" id="index_3_5" checked="checked">
										<label for="index_3_5" style="font-weight:normal">子目标3.5 &nbsp;&nbsp;确保可持续城市化发展和人人参与能力</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_3_5_1" id="index_3_5_1" checked="checked">
												<label for="index_3_5_1" style="font-weight:normal">指标3.5.1 &nbsp;&nbsp;土地利用率</label>
												<input type="text" id="index_351" name="index_351" value="20" style="width:30px; height:20px;" />%
											</li>
											<li>
												<input type="checkbox" name="index_3_5_2" id="index_3_5_2" checked="checked">
												<label for="index_3_5_2" style="font-weight:normal">指标3.5.2 &nbsp;&nbsp;城镇化率</label>
												<input type="text" id="index_352" name="index_352" value="50" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_3_6" id="index_3_6">
										<label for="index_3_6" style="font-weight:normal">子目标3.6 &nbsp;&nbsp;社会福利的提高</label>
										<ul>
											<li>
												<input type="checkbox" name="index_3_6_1" id="index_3_6_1">
												<label for="index_3_6_1" style="font-weight:normal">指标3.6.1 &nbsp;&nbsp;人均社会福利（查用什么指标衡量）</label>
												<input type="text" id="index_361" name="index_361" value="" style="width:30px; height:20px;" />%
											</li>
										</ul>
									</li>
									<li class="father_li">
										<input type="checkbox" name="index_3_7" id="index_3_7">
										<label for="index_3_7" style="font-weight:normal">子目标3.7 &nbsp;&nbsp;提高农业水生产力</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_3_7_1" id="index_3_7_1">
												<label for="index_3_7_1" style="font-weight:normal">指标3.7.1 &nbsp;&nbsp;提高农业水生产力到</label>
												<input type="text" id="index_371" name="index_371" value="" style="width:30px; height:20px;" />%
											</li>
											<li class="sub_li">
												<input type="checkbox" name="index_3_7_2" id="index_3_7_2">
												<label for="index_3_7_2" style="font-weight:normal">指标3.7.2 &nbsp;&nbsp;提高农业水利用效率到</label>
												<input type="text" id="index_372" name="index_372" value="" style="width:30px; height:20px;" />%
											</li>
											<li>
												<input type="checkbox" name="index_3_7_3" id="index_3_7_3">
												<label for="index_3_7_3" style="font-weight:normal">指标3.7.3 &nbsp;&nbsp;提高每公顷农产品产值</label>
												<input type="text" id="index_373" name="index_373" value="" style="width:30px; height:20px;" />元
											</li>
										</ul>
									</li>

									<li class="father_li">
										<input type="checkbox" name="index_3_8" id="index_3_8">
										<label for="index_3_8" style="font-weight:normal">子目标3.8 &nbsp;&nbsp;确保可持续粮食生产</label>
										<ul>
											<li class="sub_li">
												<input type="checkbox" name="index_3_8_1" id="index_3_8_1">
												<label for="index_3_8_1" style="font-weight:normal">指标3.8.1 &nbsp;&nbsp;维持可持续发展的中游耕地面积在</label>
												<input type="text" id="index_381" name="index_381" value="" style="width:30px; height:20px;" />万亩
											</li>
											<li>
												<input type="checkbox" name="index_3_8_2" id="index_3_8_2">
												<label for="index_3_8_2" style="font-weight:normal">指标3.8.2 &nbsp;&nbsp;农业温室气体排放</label>
												<input type="text" id="index_382" name="index_382" value="" style="width:30px; height:20px;" />
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>

				<div class="row" style="margin-top:8px">
					<div class="col-sm-6 col-sm-offset-3" style="text-align:center">
						<!-- 如果设置为type="submit"点击以后会触发页面刷新 -->
						<button class="btn btn-success" id="submit">确认</button> &nbsp;
						<button class="btn btn-warning" id="reset">重置</button>
					</div>
					<div class="col-sm-3" style="text-align:right">
						<button class="btn btn-primary" type="button" id="show">
        							展示您创建的目标体系结构</button>
					</div>
				</div>

				<div class="row" style="margin-top:5px">
					<div class="col-sm-6 col-sm-offset-3"></div>
					<div class="col-sm-3" style="text-align:right">
						<button class="btn btn-primary" type="button" id="nextStep">
        下一步：情景设置</button>
					</div>
				</div>
			</div>
			<!-- end of panel-body -->
			<div class="panel-default" id="chart" style="height: 700px; width: 100%;"></div>
		</div>
		<!-- end of panel -->
		<script src="js/jquery.min.js"></script>
		<script type="text/javascript" src="static/js/echarts-all.js"></script>
		<script>
			$(function() {

				$.get("getGoalTree.do", {
					id: "34d4a7bf-a2bc-438a-91f2-a49462d3922e"
				}, function(data) {
					alert(JSON.stringify(data,null,"\t"));  
					drawtree();

					function drawtree() {
						var myChart = echarts.init(document.getElementById('chart'));
						var option = {
							title: {
								text: '目标体系设定',
								x: 'center'
							},
							tooltip: {
								trigger: 'item',
								formatter: "{b}"
							},
							toolbox: {
								show: true,
								feature: {
									saveAsImage: {
										show: true
									}
								}
							},
							calculable: false,

							series: [{
								name: '树图',
								type: 'tree',
								orient: 'horizontal', // vertical horizontal
								rootLocation: {
									x: '10%',
									y: '50%'
								}, // 根节点位置  {x: 'center',y: 10}
								layerPadding: 350,
								nodePadding: 40,
								symbol: 'circle',
								symbolSize: 20,

								itemStyle: {
									normal: {
										color: '#337ab7',
										label: {
											show: true,
											position: 'bottom',
											textStyle: {
												color: '#cc9999',
												fontSize: 15,
												fontWeight: 'bolder'
											}
										},
										lineStyle: {
											color: '#000',
											width: 2,
											type: 'broken' // 'curve'|'broken'|'solid'|'dotted'|'dashed'
										}
									},
								},
								data: "["+JSON.stringify(data,null,"\t")+"]"
							}]
						};
						myChart.setOption(option);
					}
				})

			});
		</script>

		<script type="text/javascript">
			$("input[type='checkbox']").change(function(e) {
				var text = $(this).parent().find($("input[type='text']"));
				var checbox = $(this).parent().find($("input[type='checkbox']"));
				if($(this).attr("checked") == "checked") {
					$(text).attr("readonly", true).css('background-color', '#CFCFCF').val("0");
					$(this).removeAttr("checked");
					$(checbox).removeAttr("checked");

				} else {
					$(text).attr("readonly", false).css('background-color', '#FFFFFF').val("0");
					$(this).prop("checked", "checked");
					$(checbox).prop("checked", "checked");
					$(this).attr("checked", "checked");
					$(checbox).attr("checked", "checked");
				}
			});
		</script>

		<script type="text/javascript">
			$("#index_1_2,#index_1_3,#index_2_2,#index_2_3,#index_3_2,#index_3_3,#index_3_4_2,#index_3_6,#index_3_7,#index_3_8").trigger("click");
			$("#index_1_2,#index_1_3,#index_2_2,#index_2_3,#index_3_2,#index_3_3,#index_3_4_2,#index_3_6,#index_3_7,#index_3_8").trigger("click");
		</script>

		<script type="text/javascript">
			$("#submit").click(function() {
				$.get("addGoal.do", {
						"goal_1": document.getElementById("goal_1").value,
						"goal_2": document.getElementById("goal_2").value,
						"goal_3": document.getElementById("goal_3").value,
						"index_111": document.getElementById("index_111").value,
						"index_112": document.getElementById("index_112").value,
						"index_121": document.getElementById("index_121").value,
						"index_131": document.getElementById("index_131").value,
						"index_132": document.getElementById("index_132").value,
						"index_141": document.getElementById("index_141").value,
						"index_142": document.getElementById("index_142").value,
						"index_143": document.getElementById("index_143").value,
						"index_144": document.getElementById("index_144").value,
						"index_211": document.getElementById("index_211").value,
						"index_221": document.getElementById("index_221").value,
						"index_231": document.getElementById("index_231").value,
						"index_311": document.getElementById("index_311").value,
						"index_321": document.getElementById("index_321").value,
						"index_331": document.getElementById("index_331").value,
						"index_332": document.getElementById("index_332").value,
						"index_341": document.getElementById("index_341").value,
						"index_342": document.getElementById("index_342").value,
						"index_351": document.getElementById("index_351").value,
						"index_352": document.getElementById("index_352").value,
						"index_361": document.getElementById("index_361").value,
						"index_371": document.getElementById("index_371").value,
						"index_372": document.getElementById("index_372").value,
						"index_373": document.getElementById("index_373").value,
						"index_381": document.getElementById("index_381").value,
						"index_382": document.getElementById("index_382").value

					},
					function(data) {
						alert(data.content);
					})
			})
		</script>

	</body>

</html>